<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Issuer Reputation Dashboard</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
  <script src="https://code.highcharts.com/stock/highstock.js"></script>
  <script src=series.js></script>
</head>
<body>
  <h1>Worst CAs that have issued at least 1000 certs</h1>
  <div id="timeseries"></div>
  <h1>Reputation of top 10 CAs by volume</h1>
  <div id="top10timeseries"></div>
  <script type="application/javascript;version=1.7">
    let worstSeries = [];
    let top10series = [];
    for (i = 0; i < worstIssuers.length; i++) {
      worstSeries.push(timeseries[worstIssuers[i]]);
      top10series.push(timeseries[topIssuers[i]]);
    }

    let tsChart = new Highcharts.StockChart({
      chart: {
        renderTo: "timeseries"
      },
      series: worstSeries,
      yAxis: {
        max: 1.0,
        min: 0.0
      }
    });
    let top10tsChart = new Highcharts.StockChart({
      chart: {
        renderTo: "top10timeseries"
      },
      series: top10series,
      yAxis: {
        max: 1.0,
        min: 0.0
      }
    });
    let issuerCharts = {};
    for (i = 0; i < topIssuers.length; i++) {
      console.log("Creating div for " + topIssuers[i]);
      // Create the div
      var div = document.createElement("div");
      div.id = topIssuers[i];
      document.body.appendChild(div);
      // Create the series
      issuerCharts[topIssuers[i]] = new Highcharts.StockChart({
        chart: {
          renderTo: topIssuers[i]
        },
        series: scores[topIssuers[i]],
        yAxis: {
          max: 1.0,
          min: 0.0
        }
      });
    }
  </script>
</body>
</html>
